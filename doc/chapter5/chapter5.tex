
\chapter{Bug Tracking and Coding Standards}

%\label{cha:BugTrackingandCodingStandards}

\section{Bug Tracking}

\subsection{Purpose of the Bug Tracking System}

The Bug Tracking System provides a platform for reporting newly found bugs or to
browse those reports. In these reports is a detailed description of the bug, the author of the bug report and the responsible programmer.

\subsection{How to access the Bug Tracking System?}

\subsubsection{How to find it?}

The website of the Bug Tracking System can be found on The Robocup Soccer Simulater website on sourcefourge.net (http://sserver.sourceforge.net/). Follow the links "Tracker" or "Bugs".

\subsubsection{Usage of the Bug Tracking System}

If you are not logged in or you have no account to the Robocup Soccer Simulater project
you have only two options, "Browse" and "Admin". The link "Admin" is only for administrators of the
Robocup Soccer Simularer project. So you only can browse the bug reports.

If you are logged in you have the extra options, "Submit New" and "Reporting".
Following the link "Submit New" your browser loads a form for reporting a new bug.
After following the link "Reporting" you are able to generate several reports about
bugs, feature requests, new user request, patches, support requests and void reports.

\section{Coding Standarts}

This is the coding style used for the initial parts of the 3D simulator. PLEASE everyone contributing try to use it as well. Even in case you don't like specific parts: changes in the style guide would mean either inconsistencies or cause lot of work for changing the already existing code. 

\subsection{Tabs}

Never use hard tabs in your source files (have your editor insert spaces instead of tabs). This guideline is especially important. The use of hard tab characters ends up causing problems because not every editor uses the same number of spaces per tab character (in fact, most editors allow you to configure how many spaces there are per tab character). If you open a file with hard tabs already in it, instead of modifying the code so that it is readable in your own editor because your tab stops are different, please remove the tabs. There are several utilities which will do this. See also http://www.jwz.org/doc/tabs-vs-spaces.html.

\subsection{Indentation}

Only four-space line indentation should be used. 

\subsection{Placing Braces}

Opening and closing braces should be on the same level of
indentation below the token opening the scope. Opening and closing
braces appear on a separate line by themselves.
\\

Example:
\begin{verbatim}

void
ClassName::function()
{
    if (x)
    {
        while (y)
        {
            // ...
        }
    }
    else
    {
        switch (z)
        {
            case 1:
            {
                // ...
                break;
            }
            default:
            {
                // ...
                break;
            }
        }
    }
}

\end{verbatim}
\subsection{Naming Conventions}

\begin{verbatim}

class         ClassName;    // not Class_Name 
struct        StructName;   // like classes
typedef int   TMyInt;       // start with a capital T, 
                            // followed by a capital letter
union		UnionName;    

\end{verbatim}

\subsubsection{Enums}

Enumeration types 'enum' are starting with 'E', followed by a type-name starting with a capital letter.

Enumeration elements start with 'e', followed by the name of the constant starting with a capital letter.

Example:
enum EEnumName
{
    eEnumElement1,
    eEnumElement2
};

\subsubsection{Functions}
\begin{verbatim}

void 
ClassName::FunctionName()

- Function name starting with capital letter (!)
- optional: place the return type on a separate line 
- no blanks between function name and parenthesis

\end{verbatim}
\subsubsection{Variables}

*** Variables with local scope 

Variables with local scope start with a small letter. New words
within the variable start with capital letters.

Example: myVariable
\\

*** Globally defined variables and constants

Global constants and variables start witg 'g', followed by the
variable name starting with a capital letter. New words within the
variable name start with capital letters.
\\

*** Member variables

Member variables start with 'm', followed by the variable name
starting with a capital letter. New words within the variable name
start with capital letters.
\\

Example: mMemberVariable
\\

Constant static member variables are the same as the
non-static types. 
\\

Examples: mStaticConstMemberVariable

\subsubsection{Macros}
\begin{verbatim}

Macro names consist of only capital letters. Multi word macros are
separated by underscore '_'.

Example: MY_MACRO

\end{verbatim}
\subsection{Comments}
\begin{verbatim}

Please use comments suitable for doxygen to get a nice HTML
documentation. Comments should be placed above the respective
elements

Example:

/*! This is a comment 
    for more than one line
*/

//! This is a comment for exactly one line

\end{verbatim}
\subsection{Gotchas}
\begin{verbatim}

There are some standard comments for parts of the code ('gotchas'): 
':TODO:',':BUG:'. Gotchas are the first part of a comment.

Example:

//:BUG: There is a bug below someone has to remove

/*:TODO: The stuff below
        needs some clean up
*/

\end{verbatim}
\subsection{Files}
\begin{verbatim}

- file names consist of only small letters
- .h is the suffix for c++ header files, .cpp is the suffix for c++ source 
  files
- max line length is 80 characters
- include copyright:

/* -*- mode: c++; c-basic-indent: 4; indent-tabs-mode: nil -*-
   
this file is part of rcssserver3D
Fri May 9 2003
Copyright (C) 2002,2003 Koblenz University
Copyright (C) 2003 RoboCup Soccer Server 3D Maintenance Group
$Id: chapter5.tex,v 1.2 2004/01/05 12:40:33 roboklaus Exp $

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; version 2 of the License.
  
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
 
You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
*/

\end{verbatim}
\subsubsection{Header files}
\begin{verbatim}

Header files are protected by include guards, and the autoconf config.h file
should be included:

#ifndef MY_HEADER_FILE_H
#define MY_HEADER_FILE_H

#ifdef HAVE_CONFIG_H
#include <config.h>
#endif

But this usually doesn't take namespaces into account, which means that 
sometimes header files from different libs can clash, so I've started using

\#ifndef NAMESPACE_MY_HEADER_FILE_H
\#define NAMESPACE_MY_HEADER_FILE_H

\#ifdef HAVE_CONFIG_H
\#include <config.h>
\#endif

\end{verbatim}

where namespaces are used (which should be most of the time).

\subsubsection{Class declaration style}
\begin{verbatim}

class ClassName
{
public:
	// public types

protected:
	// protected types

private:
	// private types
	
public:
	// public functions

protected:
	// protected functions

private:
	// private functions

public:
	// public members

protected:
	// protected members

private:
	// private members
};

\end{verbatim}
\subsection{Options for GNU indent to fix broken code}
\begin{verbatim}

These are the options for GNU indent to get your code looking
pretty much OK. Since indent seems to be a little bit non-deterministic, 
better don't use it for files that are looking almost perfect :). 

-nbad -bap -sob --dont-star-comments --no-comment-delimiters-on-blank-lines
-cp33 -d0 -nfc1 -nfca -bl -bli0 -cli4 -cbi0 -ss -npcs -nprs -saf -saw -sai -cs
-ip0 -di1 -nbc -psl -bls -i4 -nut -ci0 -di1 -lp -l80 -nbbo -hnl

\end{verbatim}

