; -*- mode: lisp; -*-

(RubySceneGraph 0 1)
(
 (define $Radius (eval Soccer.BallRadius))
 (define $Material matOrange)
 (define $Mass (eval Soccer.BallMass))

 (node Ball
       (setLocalPos 5.0 0.0 0.5)
       (setName Ball)

       (node Sphere
	     (setRadius $Radius)
	     (setMaterial $Material)
	     )

       (node Body
	     (setName physics)
	     (setSphereTotal $Mass $Radius)
	     (node DragController
		   (setAngularDrag 0.2)
		   (setLinearDrag 0.4)
		   )
	     )

       (node SphereCollider
	     (setName geometry)
	     (setRadius $Radius)

	     (node RecorderHandler
		   (setName recorder)
		   )

	     (node ContactJointHandler
		   (setContactBounceMode false)

		   (setContactSlipMode true)
		   (setContactSlip 0.1 0.1)

		   (setContactSoftERPMode true)
		   (setContactSoftERP 0.5)

		   (setContactSoftCFM true)
		   (setContactSoftCFM 0.3)
		   )
	     )

       (node ObjectState
	     (setPerceptName B)
	     )
       )
 )
