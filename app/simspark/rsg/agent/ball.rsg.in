; -*- mode: lisp; -*-

(RSG 0 1)
(
 (def $Radius (eval Soccer.BallRadius))
 (def $Material matOrange)
 (def $Mass (eval Soccer.BallMass))

 (pwd)
 (nd Ball
     (setLocalPos 0.0 0.0 $Radius)
     (setName Ball)
     
     (nd SingleMatNode
	 (load '@prefix@/share/@PACKAGE@/models/soccerball.obj')
	 (setScale $Radius $Radius $Radius)
     )
					 
     (nd Body
	 (setName physics)
	 
	 (setSphereTotal $Mass $Radius)	     
	 (nd DragController
	     (setAngularDrag 0.2)
	     (setLinearDrag 0.4)
	 )
     )
     
     (nd SphereCollider
	 (setName geometry)
	 (setRadius $Radius)
	 
	 (nd RecorderHandler
	     (setName recorder)
	 )

	 (nd ContactJointHandler
	     (setContactBounceMode false)
	     
	     (setContactSlipMode true)
	     (setContactSlip 0.1 0.1)
	     
	     (setContactSoftERPMode true)
	     (setContactSoftERP 0.5)
	     
	     (setContactSoftCFM true)
	     (setContactSoftCFM 0.3)
	 )
     )

     (nd ObjectState
	 (setPerceptName B)
     )
 )
)
